{"version":3,"sources":["Components/Map/draw/vis.js","util/mkSvg.js","Components/Map/draw/index.js","Components/SideBar/SideBar.js","Components/SideChart/DailyLineChart/mkLineChart.js","Components/SideChart/ScoreBarChart/mkBarChart.js","Components/SideChart/PriceByRentBarChart/mkPriceByRentBarChart.js","Components/SideChart/Chart/Chart.js","Components/SideChart/SideChart.js","Components/Map/Map.js","Components/Headline/Headline.js","Components/App/App.js","serviceWorker.js","index.js"],"names":["projection","d3","rotate","scale","translate","path","t","duration","ease","margin","draw","props","width","height","geoData","beijing_area_stat","hotSpot","region","plot","handleSpot","areaById","map","d","num_spot","mean_reviews","mean_scores","rent","housingPrice","count","set","slice","getColor","colorScale","domain","range","dataRow","get","properties","name","console","log","schemeByLists","schemeByRent","schemeByHousingPrice","svg","g","bjgeo","topojson","objects","beijing_geo_full","temp","fitSize","features","filter","i","remove","tip","d3Tip","attr","offset","html","matchArea","area","call","areas","selectAll","data","exit","transition","enter","append","on","item","this","show","hide","merge","mapChart","document","querySelector","anime","targets","easing","opacity","translateX","direction","loop","checked","circles","style","createHotSpots","mkSvg","preset","wrapperClassName","svgId","ChartClassName","MapDraw","state","preProps","className","Component","Option","Select","radioStyle","display","lineHeight","SiderBar","handleAreaChange","value","selectRegion","handleRadioChange","e","target","selectPlot","handleHotSoptChange","selectSpot","lodingScreen","inputBar","setTimeout","size","defaultValue","onChange","key","Group","buttonStyle","Button","htmlFor","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","id","mkLineChart","lineWrapper","forEach","Date","neighbourhood","line","x","y","price_x","curve","nice","x_axis","y_axis","ticks","every","tickFormat","tickSizeOuter","select","datum","maxPrice","minPrice","subtitle","text","lineChart","mkBarChart","barWrapper","sort","a","b","length","rangeRound","padding","format","join","bandwidth","bars","reviewChart","priceByRent","parseInt","days","des","priceChart","Chart","dailyPrice","mkReviewsBarChart","mkPriceByRentBarChart","SideChart","url","Map","setState","SpotChecked","gutter","xs","sm","md","lg","span","Headline","paths","querySelectorAll","strokeDashoffset","setDashoffset","delay","el","data-name","xmlns","viewBox","stroke","strokeWidth","transform","Header","Layout","Footer","Content","App","dailyReginalPrice","href","color","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"u47gBAQMA,EAAaC,MACdC,OAAO,EAAE,GAAI,IACbC,MAAM,GACNC,UAAU,CAAC,EAAG,IACbC,EAAOJ,MAAaD,WAAWA,GAEjCM,EAAIL,MACHM,SAAS,KACTC,KAAKP,KAEJQ,EACG,GADHA,EAEM,GAFNA,EAGK,GAHLA,EAII,GAIK,SAASC,EAAKC,EAAOC,EAAOC,GAEvCD,EAAQA,EAAQH,EAAeA,EAC/BI,EAASA,EAASJ,EAAaA,EAE/B,IAAMK,EAAUH,EAAMG,QAChBC,EAAoBJ,EAAMI,kBAC1BC,EAAUL,EAAMK,QAGlBC,EAASN,EAAMM,OACfC,EAAOP,EAAMO,KACbC,EAAaR,EAAMQ,WAGnBC,EAAWnB,MAEfc,EAAkBM,KAAI,SAAAC,GAOlB,OANAA,EAAEC,UAAYD,EAAEC,SAChBD,EAAEE,cAAgBF,EAAEE,aACpBF,EAAEG,aAAeH,EAAEG,YACnBH,EAAEI,MAAQJ,EAAEI,KACZJ,EAAEK,cAAgBL,EAAEK,aACpBL,EAAEM,OAASN,EAAEM,MACNR,EAASS,IAAIP,EAAC,cAAkBQ,MAAM,EAAG,GAAIR,MAGxD,IAuDIS,EArCgB,WAChB,IAAIC,EAAa/B,MACZgC,OAAO,CAAC,IAAK,IAAK,IAAM,KAAM,KAAM,OACpCC,MAAMjC,IAAe,IAY1B,OAVe,SAACa,GACZ,IAAIqB,EAAUf,EAASgB,IAAItB,EAAQuB,WAAWC,KAAKR,MAAM,EAAG,IAC5D,OAAIK,EACOH,EAAWG,EAAO,QAEzBI,QAAQC,IAAI,aAAc1B,GACnB,SA0BJ2B,GACF,SAATvB,EACAa,EArBe,WACf,IAAIC,EAAa/B,MACZgC,OAAO,CAAC,IAAK,IAAK,IAAK,IAAK,MAC5BC,MAAMjC,IAAe,IAY1B,OAVe,SAACa,GACZ,IAAIqB,EAAUf,EAASgB,IAAItB,EAAQuB,WAAWC,KAAKR,MAAM,EAAG,IAC5D,OAAIK,EACOH,EAAWG,EAAO,OAEzBI,QAAQC,IAAI,aAAc1B,GACnB,SAUJ4B,GACK,UAATxB,IACPa,EA3DuB,WACvB,IAAIC,EAAa/B,MACZgC,OAAO,CAAC,IAAO,IAAO,IAAO,IAAO,IAAO,IAAO,IAAO,MACzDC,MAAMjC,IAAe,IAW1B,OATe,SAACa,GACZ,IAAIqB,EAAUf,EAASgB,IAAItB,EAAQuB,WAAWC,KAAKR,MAAM,EAAG,IAC5D,OAAIK,EACOH,EAAWG,EAAO,eAEzBI,QAAQC,IAAI,aAAc1B,GACnB,SAgDJ6B,IAIf,IAAMC,EAAM3C,IAAU,aAChB4C,EAAI5C,IAAU,uBAGd6C,EAAQC,IAAiBjC,EAASA,EAAQkC,QAAQC,kBAEpDC,EAAI,eAAQJ,GAEhB9C,EAAWmD,QAAQ,CAACvC,EAAOC,GAASqC,GAMrB,QAAXjC,GACAiC,EAAKE,SAAWN,EAAMM,SAASC,QAAO,SAAAC,GAAC,OAAIA,EAAEjB,WAAWC,OAASrB,KACjEjB,EAAWmD,QAAQ,CAACvC,EAAOC,GAASqC,IAClB,QAAXjC,GACPhB,IAAa,QAAQsD,SAIzB,IAAIC,EAAMC,cACLC,KAAK,QAAS,UACdC,OAAO,CAAC,EAAG,IACXC,MAAK,SAAUC,EAAWC,GACvB,MAAO,0DAA4DA,EAAKzB,WAAL,KAC/D,mEAAqEwB,EAAS,MAC9E,kEAAoEA,EAAS,KAF1E,8EAGkEA,EAAS,aAH3E,8FAIwEA,EAAS,YAEhGjB,EAAImB,KAAKP,GAET,IAAMQ,EAAQnB,EAAEoB,UAAU,SACrBC,KAAKhB,EAAKE,UAEfY,EAAMG,OACDC,WAAW9D,GACXoD,KAAK,UAAW,KAChBH,SAEUS,EAAMK,QAChBC,OAAO,QACPZ,KAAK,QAAS,QACda,GAAG,aAaR,SAAmBjD,GACf,IAAIuC,EAAY9C,EAAkBsC,QAAO,SAAAmB,GACrC,OAAOA,EAAI,cAAkB1C,MAAM,EAAG,KAAOR,EAAEe,WAAF,KAAqBP,MAAM,EAAG,MAE/E7B,IAAUwE,MAAMf,KAAK,eAAgB,IACrCF,EAAIkB,KAAKb,EAAU,GAAIvC,EAAGmD,SAjBzBF,GAAG,YAqBR,SAAkBjD,GACd,IAAIuC,EAAY9C,EAAkBsC,QAAO,SAAAmB,GACrC,OAAOA,EAAI,cAAkB1C,MAAM,EAAG,KAAOR,EAAEe,WAAF,KAAqBP,MAAM,EAAG,MAE/E7B,IAAUwE,MAAMf,KAAK,eAAgB,IACrCF,EAAImB,KAAKd,EAAU,GAAIvC,EAAGmD,SAxBrBG,MAAMZ,GACVI,WAAW9D,GACXoD,KAAK,SAAU,WACfA,KAAK,eAAgB,IACrBA,KAAK,IAAKrD,GACVqD,KAAK,MAAM,SAAApC,GAAC,OAAIA,EAAEe,WAAF,QAChBqB,KAAK,QAAQ,SAACpC,GACX,OAAOS,EAAST,MAqBxB,IAAIuD,EAAWC,SAASC,cAAc,aACtCC,YAAM,CACFC,QAASJ,EACTK,OAAQ,gBACRC,QAAS,CAAC,EAAG,GACb5E,SAAU,IACV6E,WAAY,GACZC,UAAW,YACXC,MAAM,IAmBd,SAAwBC,EAASvE,GAC7B,IAAIV,EAAIL,MACHM,SAAS,KACTC,KAAKP,KACN4C,EAAI5C,IAAU,uBAAuByD,KAAK,YAAa,kBAE3D,GAAI6B,EAAS,CACT,IAAIC,EAAU3C,EAAEoB,UAAU,WACrBC,KAAKlD,GAEQwE,EACbnB,QACAC,OAAO,UACPZ,KAAK,QAAS,UAEPkB,MAAMY,GACbpB,WAAW9D,GACXmF,MAAM,UAAW,IACjB/B,KAAK,MAAM,SAAApC,GAAC,OAAItB,EAAW,CAACsB,EAAC,SAAcA,EAAC,YAAgB,MAC5DoC,KAAK,MAAM,SAAApC,GAAC,OAAItB,EAAW,CAACsB,EAAC,SAAcA,EAAC,YAAgB,MAC5DoC,KAAK,IAAK,OACVA,KAAK,OAAQ,wBAElBb,EAAEoB,UAAU,UACPG,WAAW9D,GACXmF,MAAM,UAAW,GACjBlC,SA9BTmC,CAAevE,EAAYH,GCrN/B,IA6Be2E,EA7BH,SAACC,GAAY,IAEfhF,EAA2DgF,EAA3DhF,MAAOC,EAAoD+E,EAApD/E,OAAQgF,EAA4CD,EAA5CC,iBAAkBC,EAA0BF,EAA1BE,MAAOC,EAAmBH,EAAnBG,eAExCtF,EACG,GADHA,EAEM,GAFNA,EAGK,GAHLA,EAII,GAGJmC,EAAM3C,IAAA,WAAc4F,IACrBvB,OAAO,OACPZ,KAAK,KAAMoC,GACXpC,KAAK,UAHE,cAGgB9C,EAHhB,YAGyBC,IAChC6C,KAAK,QAAS,QACnB9C,EAAQA,EAAQH,EAAeA,EAC/BI,EAASA,EAASJ,EAAaA,EAE3BsF,GACAnD,EAAI0B,OAAO,KACNZ,KAAK,YAAa,aAAejD,EAAc,IAAMA,EAAa,KAClEiD,KAAK,QAASqC,ICjBrBH,EAAS,CACXhF,MAAO,IACPC,OAAQ,IACRgF,iBAAkB,aAClBC,MAAO,WACPC,eAAgB,YAICC,E,kDACjB,WAAYrF,GAAQ,IAAD,8BACf,cAAMA,IAGV+D,KAAO,WACHiB,EAAM,EAAKM,MAAML,QACL3F,IAAA,WAAc,EAAKgG,MAAML,OAAOE,QACxCxB,OAAO,KACNZ,KAAK,QAAS,YACnBhD,EAAK,EAAKC,MAAO,EAAKsF,MAAML,OAAOhF,MAAO,EAAKqF,MAAML,OAAO/E,SAP5D,EAAKoF,MAAQ,CAAEL,UAFA,E,gEAafnB,KAAKC,S,yCAGUwB,GACXA,IAAazB,KAAK9D,OAClBD,EAAK+D,KAAK9D,MAAO8D,KAAKwB,MAAML,OAAOhF,MAAO6D,KAAKwB,MAAML,OAAO/E,U,+BAKhE,OACI,yBAAKsF,UAAW1B,KAAKwB,MAAML,OAAOC,iBAAkBJ,MAAO,CAAE7E,MAAO,OAAWC,OAAQ,c,GAzB9DuF,a,+DCV7BC,G,OAAWC,IAAXD,QACFpF,EAAS,CAAC,MAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,2BAAQ,qBAAO,qBAAO,2BAAQ,sBAE5HsF,EAAa,CACfC,QAAS,QACT5F,MAAO,QACPC,OAAQ,OACR4F,WAAY,OACZhG,OAAQ,UA0DGiG,E,4MAzCXC,iBAAmB,SAACC,GAChB,EAAKjG,MAAMkG,aAAaD,I,EAE5BE,kBAAoB,SAACC,GACjB,IAAIH,EAAQG,EAAEC,OAAOJ,MACrB,EAAKjG,MAAMsG,WAAWL,I,EAE1BM,oBAAsB,SAAC3B,GACnB,EAAK5E,MAAMwG,WAAW5B,I,kEApBtB,IAAI6B,EAAetC,SAASC,cAAc,4BACtCsC,EAAWvC,SAASC,cAAc,YACtCsC,EAAS5B,MAAMN,QAAU,GACzBiC,EAAa3B,MAAMN,QAAU,EAC7BiC,EAAa3B,MAAMe,QAAU,QAC7Bc,YAAW,WACPD,EAAS5B,MAAMN,QAAU,EACzBiC,EAAa3B,MAAMN,QAAU,EAC7BiC,EAAa3B,MAAMe,QAAU,SAC9B,O,+BAeH,OACI,yBAAKL,UAAU,kBACX,kBAAC,IAAD,CAAM3C,IAAI,aAAa+D,KAAK,SAA5B,KACA,yBAAKpB,UAAU,WACX,kBAAC,IAAD,CAAQqB,aAAa,MAAM/B,MAAO,CAAE7E,MAAO,KAAO6G,SAAUhD,KAAKkC,kBAC5D1F,EAAOI,KAAI,SAACmD,GACT,OAAO,kBAAC6B,EAAD,CAAQO,MAAOpC,EAAMkD,IAAKlD,GAAOA,OAGhD,kBAAC,IAAMmD,MAAP,CAAaF,SAAUhD,KAAKqC,kBAAmBU,aAAa,QAAQI,YAAY,QAAQnC,MAAOc,EAAYgB,KAAK,SAC5G,kBAAC,IAAMM,OAAP,CAAcpC,MAAOc,EAAYK,MAAM,SAAvC,gBACA,kBAAC,IAAMiB,OAAP,CAAcpC,MAAOc,EAAYK,MAAM,QAAvC,gBACA,kBAAC,IAAMiB,OAAP,CAAcpC,MAAOc,EAAYK,MAAM,SAAvC,kBAEJ,8BACI,2BAAOkB,QAAQ,UAAf,uBACA,kBAAC,IAAD,CACIC,gBAAiB,kBAACC,EAAA,EAAD,MACjBC,kBAAmB,kBAACC,EAAA,EAAD,MACnBT,SAAUhD,KAAKyC,oBACfiB,GAAG,kB,GA9CR/B,a,QCdjB3F,G,OACG,KADHA,EAEM,GAFNA,EAGK,GAHLA,EAII,GAGNH,EAAIL,MACHM,SAAS,KACTC,KAAKP,KAmIKmI,EAhIG,SAACxC,EAAQ1B,EAAMjD,EAAQC,GAAU,IAEzCN,EAA2DgF,EAA3DhF,MAAOC,EAAoD+E,EAApD/E,OAA0BiF,GAA0BF,EAA5CC,iBAA4CD,EAA1BE,OAA0BF,EAAnBG,eAC9C9F,IAAA,WAAiB6F,EAAjB,OAA4BvC,SAG5B,IAAM8E,EAAcpI,IAAA,WAAc6F,IAGlC5B,EAAKoE,SAAQ,SAAA9D,GAAUA,EAAK+D,KAAO,IAAIA,KAAK/D,EAAK+D,SACjDrE,EAAOA,EAAKb,QAAO,SAAA/B,GAAC,OAAIA,EAAEkH,cAAc1G,MAAM,EAAG,KAAOb,EAAOa,MAAM,EAAG,MACxE,IAAI2G,EAAOxI,MACNyI,GAAE,SAAApH,GAAC,OAAIoH,EAAEpH,EAAEiH,SACXI,GAAE,SAAArH,GAAC,OAAIqH,EAAErH,EAAEsH,YACXC,MAAM5I,KAMPyI,EAAIzI,MACHgC,OAAOhC,IAAUiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEiH,SAC9BrG,MAAM,CAACzB,EAAaG,EAAQH,IAG7BkI,EAAI1I,MACHgC,OAAO,CAAChC,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEsH,WAAU3I,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEsH,aAAWE,OACrE5G,MAAM,CAACrB,EAASJ,EAAa,GAAoB,EAAhBA,IAGlCsI,EAAS9I,IAAcyI,GACvBM,EAAS/I,IAAY0I,GAGzBN,EAAY/D,OAAO,KACdZ,KAAK,YADV,oBACoCjD,EADpC,YACmDI,EAASJ,EAAgB,GAD5E,MAEKsD,KAAKgF,EAAOE,MAAMhJ,IAAaiJ,MAAM,IAAIC,WAAWlJ,IAAc,OAAOmJ,cAAc,IACvFrF,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,YAAa,UACnBA,MAAM,cAAe,QACrB/B,KAAK,KAAM,MACfK,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WACf3F,KAAK,SAAU,cACnBK,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,SAAU,cAGxB2E,EAAY/D,OAAO,KACdZ,KAAK,YADV,oBACoCjD,EADpC,YACmDA,EAAa,GADhE,MAEKsD,KAAKiF,EAAOC,MAAM,KAClBlF,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,KAAM,GACXA,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,cAAe,QACrBA,MAAM,YAAa,aACvB1B,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WACf9F,YACJQ,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,SAAU,cAGxB2E,EAAY/D,OAAO,QACdgF,MAAMpF,GACNR,KAAK,YAFV,oBAEoCjD,EAFpC,YAEmDA,EAAa,GAFhE,MAGK2D,WAAW9D,GACXoD,KAAK,UAAW,KAChBA,KAAK,OAAQ,QACbA,KAAK,SAAU,WACfA,KAAK,eAAgB,GACrBA,KAAK,kBAAmB,SACxBA,KAAK,iBAAkB,SACvBA,KAAK,IAAK+E,GAIfxI,IAAU,mBAAmBsD,SAC7BtD,IAAU,sBAAsBsD,SAChCtD,IAAU,uBAAuBsD,SACjC,IACIgG,EAAWtJ,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEsH,WAC/BY,EAAWvJ,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEsH,WAC/Ba,EAAQ,UAAMxI,EAAN,uBAA2BsI,EAA3B,6BAAwDC,GAEpEnB,EAAY/D,OAAO,QACdZ,KAAK,QAAS,kBACdA,KAAK,IAAK,GACVA,KAAK,IAAMjD,EAAc,GACzBiJ,KATI,oCAUJjE,MAAM,YAAa,OACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAC1B4C,EAAY/D,OAAO,QACdZ,KAAK,QAAS,qBACdA,KAAK,IAAK,GACVA,KAAK,IAAMjD,GACXiJ,KAAKD,GACLhE,MAAM,YAAa,OACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAE1B4C,EAAY/D,OAAO,QACdZ,KAAK,QAAS,sBACdA,KAAK,IAAK,GACVA,KAAK,IAAKjD,EAAa,IACvBiJ,KAAK,YACLjE,MAAM,YAAa,SACnBA,MAAM,UAAW,IACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAG1B,IAAIkE,EAAY7E,SAASC,cAAT,WAA2Be,IAC3Cd,YAAM,CACFC,QAAS0E,EACTzE,OAAQ,gBACR3E,SAAU,IACV6E,WAAY,GACZC,UAAW,YACXC,MAAM,KCvIR7E,EACG,IADHA,EAEM,GAFNA,EAGK,GAHLA,EAII,GAGNH,EAAIL,MACHM,SAAS,KACTC,KAAKP,KAGK,SAAS2J,EAAWhE,EAAQ1B,EAAMjD,EAAQC,GAAO,IACtDN,EAA2DgF,EAA3DhF,MAAOC,EAAoD+E,EAApD/E,OAA0BiF,GAA0BF,EAA5CC,iBAA4CD,EAA1BE,OAA0BF,EAAnBG,eAC9C9F,IAAA,WAAiB6F,EAAjB,QAA6BvC,SAE7B,IAAIX,EAAM3C,IAAA,WAAc6F,IAElB+D,EAAa5J,IAAA,WAAc6F,IAASxB,OAAO,KAAKZ,KAAK,YAAxC,oBAAkEjD,EAAlE,YAAiFA,EAAjF,MAGnByD,EAAK4F,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAExI,aAAeuI,EAAEvI,gBACvCe,QAAQC,IAAI0B,GAEZ,IAAIwE,EAAIzI,MACHgC,OAAO,CAAC,EAAuC,IAApChC,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEE,kBAC/BU,MAAM,CAACzB,EAAaG,EAAQH,IAE7BkI,EAAI1I,MACHgC,OAAOhC,IAASiE,EAAK+F,SACrBC,WAAW,CAACzJ,EAAYI,EAASJ,IACjC0J,QAAQ,IAETpB,EAAS9I,IAAWyI,GACpBM,EAAS/I,IAAY0I,GAEzB/F,EAAI0B,OAAO,KACNZ,KAAK,YADV,oBACoCjD,EADpC,YACmDI,EAASJ,EAAgB,GAD5E,MAEKsD,KAAKgF,EAAOE,MAAMrI,EAAQ,GAAIsD,EAAKkG,SACnCrG,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,YAAa,UACnBA,MAAM,cAAe,QACrB/B,KAAK,KAAM,MACfK,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBV,YACJQ,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WAAW9F,YAEnCX,EAAI0B,OAAO,KACNZ,KAAK,YADV,oBACoCjD,EADpC,UAEKsD,KAAKiF,EAAOG,YAAW,SAAA7F,GAAC,OAAIY,EAAKZ,GAAGkF,iBAAeY,cAAc,IACjErF,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,KAAM,GACXA,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,cAAe,QACrBA,MAAM,YAAa,aACvB1B,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WAAW9F,YAC9BQ,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBV,YAETX,EAAI0B,OAAO,KACNZ,KAAK,OAAQ,SACbA,KAAK,cAAe,OACpBA,KAAK,cAAe,cACpBA,KAAK,YAAa,UAClBO,UAAU,QACVC,KAAKA,GACLmG,KAAK,QACL3G,KAAK,KAAK,SAAApC,GAAC,OAAIoH,EAAEpH,EAAEE,cAAgB,KACnCkC,KAAK,KAAK,SAACpC,EAAGgC,GAAJ,OAAWqF,EAAErF,GAAK,GAAOqF,EAAE2B,YAAc,KACnD5G,KAAK,KAAM,SACXgG,MAAK,SAAApI,GAAC,OAAIA,EAAEE,gBAGjB,IAAI+I,EAAOV,EAAW5F,UAAX,WAAyB/C,EAAzB,QACNgD,KAAKA,GAEVqG,EAAKpG,OAAOZ,SAEGgH,EACVlG,QACAC,OAAO,QACPZ,KAAK,QAHK,UAGOxC,EAHP,QAIVwC,KAAK,QAAQ,SAAApC,GACV,OAAIA,EAAEkH,cAAc1G,MAAM,EAAG,KAAOb,EAAOa,MAAM,EAAG,GACzC,UAEA,aAGd4B,KAAK,SAAU,SACfA,KAAK,QAAS,OAEVkB,MAAM2F,GACVnG,WAAW9D,GACXoD,KAAK,UAAW,KAChBA,KAAK,IAAKgF,EAAE,IACZhF,KAAK,KAAK,SAACpC,EAAGgC,GAAJ,OAAUqF,EAAErF,GAAK,MAC3BI,KAAK,SAAS,SAAApC,GAAC,OAAIoH,EAAEpH,EAAEE,cAAgBkH,EAAE,MACzChF,KAAK,SAAUiF,EAAE2B,aAGtBT,EAAWvF,OAAO,QACbZ,KAAK,QAAS,iBACdA,KAAK,IAAK,GACVA,KAAK,IAAMjD,EAAc,GACzBiJ,KALO,wCAMPjE,MAAM,YAAa,OACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAG1B,IAAI+E,EAAc1F,SAASC,cAAT,WAA2Be,IAC7Cd,YAAM,CACFC,QAASuF,EACTtF,OAAQ,gBACR3E,SAAU,IACV6E,WAAY,GACZC,UAAW,YACXC,MAAM,IC1Hd,IAAM7E,EACG,IADHA,EAEM,GAFNA,EAGK,GAHLA,EAII,GAGNH,GAAIL,MACHM,SAAS,KACTC,KAAKP,KAGK,SAAS2J,GAAWhE,EAAQ1B,EAAMjD,EAAQC,GAAO,IACtDN,EAA2DgF,EAA3DhF,MAAOC,EAAoD+E,EAApD/E,OAA0BiF,GAA0BF,EAA5CC,iBAA4CD,EAA1BE,OAA0BF,EAAnBG,eAC9C9F,IAAA,WAAiB6F,EAAjB,QAA6BvC,SAE7B,IAAIX,EAAM3C,IAAA,WAAc6F,IAElB+D,EAAa5J,IAAA,WAAc6F,IAASxB,OAAO,KAAKZ,KAAK,YAAxC,oBAAkEjD,EAAlE,YAAiFA,EAAjF,MAEnByD,EAAK7C,KAAI,SAAAC,GAAC,OAAIA,EAAEmJ,YAAcC,SAASpJ,EAAEK,aAAeL,EAAEI,SAC1DwC,EAAK4F,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEU,YAAcT,EAAES,eACtClI,QAAQC,IAAI0B,GAEZ,IAAIwE,EAAIzI,MACHgC,OAAO,CAAC,EAAsC,IAAnChC,IAAOiE,GAAM,SAAA5C,GAAC,OAAIA,EAAEmJ,iBAC/BvI,MAAM,CAACzB,EAAaG,EAAQH,IAE7BkI,EAAI1I,MACHgC,OAAOhC,IAASiE,EAAK+F,SACrBC,WAAW,CAACzJ,EAAYI,EAASJ,IACjC0J,QAAQ,IAETpB,EAAS9I,IAAWyI,GACpBM,EAAS/I,IAAY0I,GAEzB/F,EAAI0B,OAAO,KACNZ,KAAK,YADV,oBACoCjD,EADpC,YACmDI,EAASJ,EAAgB,GAD5E,MAEKsD,KAAKgF,EAAOE,MAAMrI,EAAQ,GAAIsD,EAAKkG,SACnCrG,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,YAAa,UACnBA,MAAM,cAAe,QACrB/B,KAAK,KAAM,MACfK,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBV,YACJQ,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WAAW9F,YAEnCX,EAAI0B,OAAO,KACNZ,KAAK,YADV,oBACoCjD,EADpC,UAEKsD,KAAKiF,EAAOG,YAAW,SAAA7F,GAAC,OAAIY,EAAKZ,GAAGkF,iBAAeY,cAAc,IACjErF,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBP,KAAK,KAAM,GACXA,KAAK,IAAK,GACVA,KAAK,OAAQ,WACb+B,MAAM,cAAe,QACrBA,MAAM,YAAa,aACvB1B,MAAK,SAAAlB,GAAC,OAAIA,EAAEwG,OAAO,WAAW9F,YAC9BQ,MAAK,SAAAlB,GAAC,OAAIA,EAAEoB,UAAU,cAClBV,YAETX,EAAI0B,OAAO,KACNZ,KAAK,OAAQ,SACbA,KAAK,cAAe,OACpBA,KAAK,cAAe,cACpBA,KAAK,YAAa,UAClBO,UAAU,QACVC,KAAKA,GACLmG,KAAK,QACL3G,KAAK,KAAK,SAAApC,GAAC,OAAIoH,EAAEpH,EAAEmJ,aAAe,KAClC/G,KAAK,KAAK,SAACpC,EAAGgC,GAAJ,OAAWqF,EAAErF,GAAK,GAAOqF,EAAE2B,YAAc,KACnD5G,KAAK,KAAM,SACXgG,MAAK,SAAApI,GAAC,OAAIA,EAAEmJ,eAGjB,IAAIF,EAAOV,EAAW5F,UAAX,WAAyB/C,EAAzB,QACNgD,KAAKA,GAEVqG,EAAKpG,OAAOZ,SAEGgH,EACVlG,QACAC,OAAO,QACPZ,KAAK,QAHK,UAGOxC,EAHP,QAIVwC,KAAK,QAAQ,SAAApC,GACV,OAAIA,EAAEkH,cAAc1G,MAAM,EAAG,KAAOb,EAAOa,MAAM,EAAG,GACzC,UAEA,aAGd4B,KAAK,SAAU,SACfA,KAAK,QAAS,OAEVkB,MAAM2F,GACVnG,WAAW9D,IACXoD,KAAK,UAAW,KAChBA,KAAK,IAAKgF,EAAE,IACZhF,KAAK,KAAK,SAACpC,EAAGgC,GAAJ,OAAUqF,EAAErF,GAAK,MAC3BI,KAAK,SAAS,SAAApC,GAAC,OAAIoH,EAAEpH,EAAEmJ,aAAe/B,EAAE,MACxChF,KAAK,SAAUiF,EAAE2B,aAGtBrK,IAAU,kBAAkBsD,SAC5BtD,IAAU,qBAAqBsD,SAC/BtD,IAAU,gBAAgBsD,SAC1B,IACIoH,EAAOzG,EAAKb,QAAO,SAAC/B,GAAD,OAAOA,EAAEkH,cAAc1G,MAAM,EAAG,KAAOb,EAAOa,MAAM,EAAG,MAAI,GAAG2I,YACjFhB,EAAQ,UAAMkB,EAAN,gCAAkC1J,GAC1C2J,EAAG,kDAA8C3J,GACrD4I,EAAWvF,OAAO,QACbZ,KAAK,QAAS,iBACdA,KAAK,KAAM,IACXA,KAAK,IAAMjD,EAAc,GACzBiJ,KARO,yCASPjE,MAAM,YAAa,OACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAE1BoE,EAAWvF,OAAO,QACbZ,KAAK,QAAS,oBACdA,KAAK,IAAK,KACVA,KAAK,IAAM,KACXgG,KAAKD,GACLhE,MAAM,YAAa,SACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAE1BoE,EAAWvF,OAAO,QACbZ,KAAK,QAAS,eACdA,KAAK,IAAK,KACVA,KAAK,IAAK,KACVgG,KAAKkB,GACLnF,MAAM,YAAa,OACnBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,WACdA,MAAM,cAAe,QAE1B,IAAIoF,EAAa/F,SAASC,cAAT,WAA2Be,IAC5Cd,YAAM,CACFC,QAAS4F,EACT3F,OAAQ,gBACR3E,SAAU,IACV6E,WAAY,GACZC,UAAW,YACXC,MAAM,I,WC9IOwF,G,kLAEI,IAAD,EAC8CrG,KAAK9D,MAA7DiF,EADU,EACVA,OAAQ3E,EADE,EACFA,OAAQC,EADN,EACMA,KAAM6J,EADZ,EACYA,WAAYhK,EADxB,EACwBA,kBAExC4E,EAAMC,GACO,SAAT1E,EACAkH,EAAYxC,EAAQmF,EAAY9J,EAAQC,GACxB,UAATA,EACP8J,EAAkBpF,EAAQ7E,EAAmBE,EAAQC,GACrC,UAATA,GACP+J,GAAsBrF,EAAQ7E,EAAmBE,EAAQC,K,2CAK3C,IAAD,EAE6CuD,KAAK9D,MAA7DiF,EAFW,EAEXA,OAAQ3E,EAFG,EAEHA,OAAQC,EAFL,EAEKA,KAAM6J,EAFX,EAEWA,WAAYhK,EAFvB,EAEuBA,kBAExCuG,YAAW,WACM,SAATpG,EACAkH,EAAYxC,EAAQmF,EAAY9J,EAAQC,GACxB,UAATA,EACP8J,EAAkBpF,EAAQ7E,EAAmBE,EAAQC,GACrC,UAATA,GACP+J,GAAsBrF,EAAQ7E,EAAmBE,EAAQC,Q,+BAOjE,OACI,yBAAKiF,UAAW1B,KAAK9D,MAAMiF,OAAOC,uB,GAlCXO,aCH7BR,GAAS,CACXhF,MAAO,IACPC,OAAQ,IACRgF,iBAAkB,mBAClBC,MAAO,YACPC,eAAgB,MA6CLmF,G,kDAxCX,WAAYvK,GAAQ,IAAD,8BACf,cAAMA,IACDsF,MAAQ,CACTL,WAHW,E,qDAOT,IAAD,EACiDnB,KAAK9D,MAArDM,EADD,EACCA,OAAQC,EADT,EACSA,KAAM6J,EADf,EACeA,WAAYhK,EAD3B,EAC2BA,kBAEhC,MAAe,QAAXE,GAA6B,UAATC,EAEhB,yBAAKiF,UAAW1B,KAAKwB,MAAML,OAAOC,iBAAkBJ,MAAO,CAAE5E,OAAQ,OAAWsJ,QAAS,KACrF,kBAAC,IAAD,CAAQgB,IAAI,iDAAiDvK,MAAM,OAAOC,OAAO,OAAOsH,GAAG,eAIjF,QAAXlH,GAA6B,SAATC,EAEvB,yBAAKiF,UAAW1B,KAAKwB,MAAML,OAAOC,iBAAkBJ,MAAO,CAAE5E,OAAQ,OAAWsJ,QAAS,KACrF,kBAAC,IAAD,CAAQgB,IAAI,iDAAiDvK,MAAM,OAAOC,OAAO,OAAOsH,GAAG,gBAIjF,QAAXlH,GAA6B,UAATC,EAEvB,yBAAKiF,UAAW1B,KAAKwB,MAAML,OAAOC,iBAAkBJ,MAAO,CAAE5E,OAAQ,OAAWsJ,QAAS,KACrF,kBAAC,IAAD,CAAQgB,IAAI,iDAAiDvK,MAAM,OAAOC,OAAO,OAAOsH,GAAG,mBAM/F,kBAAC,GAAD,CAAOvC,OAAQnB,KAAKwB,MAAML,OAAQ3E,OAAQA,EAAQC,KAAMA,EAAM6J,WAAYA,EAAYhK,kBAAmBA,Q,GAlCjGqF,a,oBC0CTgF,I,yDA9CX,WAAYzK,GAAQ,IAAD,8BACf,cAAMA,IAOVkG,aAAe,SAAC5F,GACZ,EAAKoK,SAAS,CAAEpK,OAAQA,KATT,EAYnBgG,WAAa,SAAC/F,GACV,EAAKmK,SAAS,CAAEnK,KAAMA,KAbP,EAgBnBiG,WAAa,SAAC5B,GACV,EAAK8F,SAAS,CAAEC,YAAa/F,KAf7B,EAAKU,MAAQ,CACThF,OAAQ,MACRC,KAAM,SAJK,E,qDAqBT,IAAD,EACuDuD,KAAK9D,MAAzDG,EADH,EACGA,QAASC,EADZ,EACYA,kBAAmBC,EAD/B,EAC+BA,QAAS+J,EADxC,EACwCA,WAC7C,OACI,yBAAK5E,UAAU,kBACX,kBAAC,KAAD,CAAKoF,OAAQ,CAAEC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,KACtC,kBAAC,KAAD,CAAKxF,UAAU,aAAayF,KAAM,GAC9B,kBAAC,EAAD,CAAU/E,aAAcpC,KAAKoC,aAAcI,WAAYxC,KAAKwC,WACxDE,WAAY1C,KAAK0C,cAGzB,kBAAC,KAAD,CAAKhB,UAAU,aAAayF,KAAM,GAC9B,kBAAC,EAAD,CAAS9K,QAASA,EAASC,kBAAmBA,EAC1CE,OAAQwD,KAAKwB,MAAMhF,OACnBC,KAAMuD,KAAKwB,MAAM/E,KAAMF,QAASA,EAASG,WAAYsD,KAAKwB,MAAMqF,eAIxE,kBAAC,KAAD,CAAKnF,UAAU,aAAayF,KAAM,IAC9B,kBAAC,GAAD,CAAW3K,OAAQwD,KAAKwB,MAAMhF,OAAQC,KAAMuD,KAAKwB,MAAM/E,KAAM6J,WAAYA,EAAYhK,kBAAmBA,W,GAxC9GqF,cCLGyF,G,kLAUb,IAAIC,EAAQhH,SAASiH,iBAAiB,gBACtC/G,YAAM,CACFC,QAAS6G,EACTE,iBAAkB,CAAChH,IAAMiH,cAAe,GACxC/G,OAAQ,gBACR3E,SAAU,IACV2L,MAAO,SAAUC,EAAI7I,GAAK,OAAW,IAAJA,GACjC+B,UAAW,YACXC,MAAM,M,+BAKV,OACI,yBAAKG,MAAO,CAAE5E,OAAQ,SAClB,yBAAKsH,GAAG,QAAQiE,YAAU,iBAAiBC,MAAM,6BAA6BC,QAAQ,cAAczL,OAAO,OAAOD,MAAM,QACpH,0BAAM2L,OAAO,QAAQC,YAAY,IAAIlL,EAAE,q1BAAq1BmL,UAAU,yBACt4B,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,8gBAA8gBmL,UAAU,yBAC/jB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,oeAAoemL,UAAU,yBACrhB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,qgBAAqgBmL,UAAU,yBACtjB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,ueAAuemL,UAAU,yBACxhB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,8iBAA8iBmL,UAAU,yBAC/lB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,syBAAsyBmL,UAAU,yBACv1B,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,yoBAAyoBmL,UAAU,yBAC1rB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,kfAAkfmL,UAAU,yBACniB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,8dAA8dmL,UAAU,yBAC/gB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,0jBAA0jBmL,UAAU,yBAC3mB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,qiBAAqiBmL,UAAU,yBACtlB,0BAAMF,OAAO,QAAQC,YAAY,IAAIlL,EAAE,ojBAAojBmL,UAAU,+B,GAtCnlBrG,a,2DCkBpCsG,GAGEC,KAHFD,OACAE,GAEED,KAFFC,OACAC,GACEF,KADFE,QA6CaC,G,kDAxCb,WAAYnM,GAAQ,IAAD,8BACjB,cAAMA,IACDsF,MAAQ,CACXnF,QAASA,IAHM,E,qDAWT,IACAA,EAAY2D,KAAKwB,MAAjBnF,QACR,OACE,6BACE,kBAAC,KAAD,KACE,kBAAC4L,GAAD,CAAQjH,MAAO,CAAE5E,OAAQ,SACvB,kBAAC,GAAD,OAEF,kBAAC,KAAD,CAAQ4E,MAAO,CAAE5E,OAAQ,SACvB,kBAACgM,GAAD,KACE,kBAAC,GAAD,CAAK/L,QAASA,EAASC,kBAAmBA,GACxCC,QAASA,GAAS+J,WAAYgC,OAIpC,kBAACH,GAAD,CAAQnH,MAAO,CAAE5E,OAAQ,KACvB,yBAAKsF,UAAU,+BACb,uBAAGA,UAAU,kBAAb,6CACC,uBAAG6G,KAAK,iCAAiCvH,MAAO,CAAEwH,MAAO,YAAzD,eADD,a,GA7BI7G,aCjBE8G,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAEP,kBAAC,GAAD,MAGA1I,SAAS2I,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL1L,QAAQ0L,MAAMA,EAAMC,c","file":"static/js/main.e13bcdf5.chunk.js","sourcesContent":["import * as d3 from 'd3';\nimport * as topojson from 'topojson';\nimport d3Tip from 'd3-tip';\nimport anime from 'animejs';\n\n\n\n\nconst projection = d3.geoAlbers()\n    .rotate([-90, 0])\n    .scale(1)\n    .translate([0, 0]);\nconst path = d3.geoPath().projection(projection);\n\nlet t = d3.transition()\n    .duration(1000)\n    .ease(d3.easeQuadOut);\n\nconst margin = {\n    top: 10,\n    bottom: 10,\n    right: 10,\n    left: 10,\n};\n\n\nexport default function draw(props, width, height) {\n\n    width = width - margin.right - margin.left;\n    height = height - margin.top - margin.bottom;\n\n    const geoData = props.geoData;\n    const beijing_area_stat = props.beijing_area_stat;\n    const hotSpot = props.hotSpot;\n\n    // eventHandler\n    var region = props.region;\n    var plot = props.plot;\n    var handleSpot = props.handleSpot;\n\n\n    var areaById = d3.map();\n\n    beijing_area_stat.map(d => {\n        d.num_spot = +d.num_spot;\n        d.mean_reviews = +d.mean_reviews;\n        d.mean_scores = +d.mean_scores;\n        d.rent = +d.rent;\n        d.housingPrice = +d.housingPrice;\n        d.count = +d.count;\n        return areaById.set(d[\"neighbourhood\"].slice(0, 2), d)\n    });\n\n    var schemeByHousingPrice = () => {\n        var colorScale = d3.scaleLinear()\n            .domain([10000, 20000, 30000, 40000, 50000, 60000, 80000, 100000])\n            .range(d3.schemeGreys[8]);\n\n        var getColor = (geoData) => {\n            var dataRow = areaById.get(geoData.properties.name.slice(0, 2));\n            if (dataRow) {\n                return colorScale(dataRow[\"housingPrice\"]);\n            } else {\n                console.log(\"no dataRow\", geoData);\n                return \"#ccc\";\n            }\n        };\n        return getColor\n    }\n\n\n    var schemeByLists = () => {\n        var colorScale = d3.scaleLinear()\n            .domain([100, 500, 1000, 1500, 2500, 5600])\n            .range(d3.schemeGreys[6]);\n\n        var getColor = (geoData) => {\n            var dataRow = areaById.get(geoData.properties.name.slice(0, 2));\n            if (dataRow) {\n                return colorScale(dataRow['count']);\n            } else {\n                console.log(\"no dataRow\", geoData);\n                return \"#ccc\";\n            }\n\n        };\n        return getColor\n    }\n\n    var schemeByRent = () => {\n        var colorScale = d3.scaleLinear()\n            .domain([600, 700, 800, 900, 1000])\n            .range(d3.schemeGreys[5]);\n\n        var getColor = (geoData) => {\n            var dataRow = areaById.get(geoData.properties.name.slice(0, 2));\n            if (dataRow) {\n                return colorScale(dataRow['rent']);\n            } else {\n                console.log(\"no dataRow\", geoData);\n                return \"#ccc\";\n            }\n\n        };\n        return getColor\n    }\n\n\n    var getColor = schemeByLists()\n    if (plot === 'rent') {\n        getColor = schemeByRent()\n    } else if (plot === 'price') {\n        getColor = schemeByHousingPrice()\n    }\n\n\n    const svg = d3.select('#mapChart')\n    const g = d3.select('#mapChart .mapChart')\n\n\n    const bjgeo = topojson.feature(geoData, geoData.objects.beijing_geo_full);\n\n    var temp = { ...bjgeo };\n\n    projection.fitSize([width, height], temp);\n\n\n\n\n\n    if (region !== \"All\") {\n        temp.features = bjgeo.features.filter(i => i.properties.name === region);\n        projection.fitSize([width, height], temp);\n    } else if (region === 'All') {\n        d3.selectAll(\".arc\").remove();\n    }\n\n\n    var tip = d3Tip()\n        .attr('class', 'd3-tip')\n        .offset([0, 0])\n        .html(function (matchArea, area) {\n            return \"<strong>District: </strong><span style='color:#fef7ea'>\" + area.properties[\"name\"] +\n                \"</span><br><strong> Lists: </strong><span style='color:#fef7ea'>\" + matchArea['count'] +\n                \"</span><br><strong> Rent: </strong><span style='color:#fef7ea'>\" + matchArea['rent'] + \" ¥ / day\" +\n                \"</span><br><strong> Price: </strong><span style='color:#fef7ea'>\" + matchArea['housingPrice'] + \" ¥ / m<sup>2</sup>\" +\n                \"</span><br><strong> Attractions: </strong><span style='color:#fef7ea'>\" + matchArea['num_spot']\n        })\n    svg.call(tip);\n\n    const areas = g.selectAll(\".area\")\n        .data(temp.features);\n\n    areas.exit()\n        .transition(t)\n        .attr(\"opacity\", \"0\")\n        .remove();\n\n    var new_area = areas.enter()\n        .append(\"path\")\n        .attr(\"class\", \"area\")\n        .on('mouseover', MouseOver)\n        .on('mouseout', MouseOut);\n\n    new_area.merge(areas)\n        .transition(t)\n        .attr(\"stroke\", \"#fef7ea\")\n        .attr(\"stroke-width\", 0.6)\n        .attr(\"d\", path)\n        .attr(\"id\", d => d.properties[\"name\"])\n        .attr(\"fill\", (d) => {\n            return getColor(d)\n        })\n\n    function MouseOver(d) {\n        var matchArea = beijing_area_stat.filter(item => {\n            return item[\"neighbourhood\"].slice(0, 2) === d.properties[\"name\"].slice(0, 2)\n        })\n        d3.select(this).attr(\"stroke-width\", 0.8);\n        tip.show(matchArea[0], d, this);\n\n    }\n\n    function MouseOut(d) {\n        var matchArea = beijing_area_stat.filter(item => {\n            return item[\"neighbourhood\"].slice(0, 2) === d.properties[\"name\"].slice(0, 2)\n        })\n        d3.select(this).attr(\"stroke-width\", 0.2);\n        tip.hide(matchArea[0], d, this);\n    };\n\n    // Add animation to that path\n    var mapChart = document.querySelector(\".mapChart\");\n    anime({\n        targets: mapChart,\n        easing: 'easeInOutSine',\n        opacity: [0, 1],\n        duration: 1000,\n        translateX: 10,\n        direction: 'alternate',\n        loop: false\n    });\n    // var room_type_chart = document.querySelector(\"#room_type\");\n    // anime({\n    //     begin: function (anim) {\n    //         room_type_chart.style.display = \"block\";\n    //     },\n    //     targets: room_type_chart,\n    //     easing: 'easeInOutSine',\n    //     opacity: [0, 1],\n    //     translateX: 0,\n    //     duration: 2000,\n    // });\n\n\n    createHotSpots(handleSpot, hotSpot)\n}\n\n\nfunction createHotSpots(checked, hotSpot) {\n    let t = d3.transition()\n        .duration(800)\n        .ease(d3.easeQuadOut);\n    let g = d3.select(\"#mapChart .hotspots\").attr(\"transform\", \"translate(0,0)\")\n\n    if (checked) {\n        var circles = g.selectAll(\".circle\")\n            .data(hotSpot)\n\n        var new_circles = circles\n            .enter()\n            .append(\"circle\")\n            .attr(\"class\", \"circle\");\n\n        new_circles.merge(circles)\n            .transition(t)\n            .style(\"opacity\", .8)\n            .attr(\"cx\", d => projection([d['latitude'], d['longitude']])[0])\n            .attr(\"cy\", d => projection([d['latitude'], d['longitude']])[1])\n            .attr(\"r\", \"3px\")\n            .attr(\"fill\", \"rgb(255, 28, 0)\");\n    } else {\n        g.selectAll(\"circle\")\n            .transition(t)\n            .style('opacity', 0)\n            .remove()\n    }\n}\n\n\n","import * as d3 from 'd3';\n\nvar mkSvg = (preset) => {\n\n    var { width, height, wrapperClassName, svgId, ChartClassName } = preset;\n\n    const margin = {\n        top: 10,\n        bottom: 10,\n        right: 10,\n        left: 10,\n    };\n\n    const svg = d3.select(`.${wrapperClassName}`)\n        .append(\"svg\")\n        .attr(\"id\", svgId)\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .attr(\"width\", \"100%\")\n    width = width - margin.right - margin.left;\n    height = height - margin.top - margin.bottom;\n\n    if (ChartClassName) {\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n            .attr(\"class\", ChartClassName);\n    }\n\n\n\n\n}\nexport default mkSvg","import React, { Component } from 'react';\nimport draw from './vis';\nimport mkSvg from '../../../util/mkSvg';\nimport * as d3 from 'd3';\n\n\n\nconst preset = {\n    width: 500,\n    height: 600,\n    wrapperClassName: \"mapWrapper\",\n    svgId: \"mapChart\",\n    ChartClassName: \"mapChart\"\n}\n\n\nexport default class MapDraw extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { preset };\n    }\n    show = () => {\n        mkSvg(this.state.preset);\n        const svg = d3.select(`#${this.state.preset.svgId}`)\n        svg.append(\"g\")\n            .attr(\"class\", \"hotspots\")\n        draw(this.props, this.state.preset.width, this.state.preset.height)\n    }\n\n    componentDidMount() {\n        this.show()\n    }\n\n    componentDidUpdate(preProps) {\n        if (preProps !== this.props) {\n            draw(this.props, this.state.preset.width, this.state.preset.height);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.state.preset.wrapperClassName} style={{ width: 30 + \"vw\", height: 35 + \"vw\" }}>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport 'antd/dist/antd.css';\nimport { Select, Radio, Switch, Spin } from 'antd';\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\nimport './SideBar.css'\n\nconst { Option } = Select;\nconst region = ['All', '东城区', '丰台区', '大兴区', '密云区', '平谷区', '延庆区', '怀柔区', '房山区', '昌平区', '朝阳区', '海淀区', '石景山区', '西城区', '通州区', '门头沟区', '顺义区']\n\nconst radioStyle = {\n    display: 'block',\n    width: '150px',\n    height: 'auto',\n    lineHeight: '30px',\n    margin: 0 + ' auto',\n};\n\nclass SiderBar extends Component {\n    componentDidMount() {\n        var lodingScreen = document.querySelector(\".ant-spin-nested-loading\");\n        var inputBar = document.querySelector(\".sideBar\");\n        inputBar.style.opacity = 0.5;\n        lodingScreen.style.opacity = 1;\n        lodingScreen.style.display = 'block';\n        setTimeout(() => {\n            inputBar.style.opacity = 1;\n            lodingScreen.style.opacity = 0;\n            lodingScreen.style.display = 'none';\n        }, 1000)\n    }\n\n    handleAreaChange = (value) => {\n        this.props.selectRegion(value)\n    }\n    handleRadioChange = (e) => {\n        var value = e.target.value;\n        this.props.selectPlot(value)\n    }\n    handleHotSoptChange = (checked) => {\n        this.props.selectSpot(checked)\n    }\n\n    render() {\n        return (\n            <div className=\"sideBarWrapper\">\n                <Spin tip=\"Loading...\" size=\"large\"> </Spin>\n                <div className=\"sideBar\">\n                    <Select defaultValue=\"All\" style={{ width: 120 }} onChange={this.handleAreaChange}>\n                        {region.map((item) => {\n                            return <Option value={item} key={item}>{item}</Option>\n                        })}\n                    </Select>\n                    <Radio.Group onChange={this.handleRadioChange} defaultValue=\"lists\" buttonStyle=\"solid\" style={radioStyle} size=\"large\" >\n                        <Radio.Button style={radioStyle} value=\"lists\">Airbnb Lists</Radio.Button>\n                        <Radio.Button style={radioStyle} value=\"rent\">Average Rent</Radio.Button>\n                        <Radio.Button style={radioStyle} value=\"price\">Housing Price</Radio.Button>\n                    </Radio.Group>\n                    <form>\n                        <label htmlFor=\"switch\">Tourist Attractions</label>\n                        <Switch\n                            checkedChildren={<CheckOutlined />}\n                            unCheckedChildren={<CloseOutlined />}\n                            onChange={this.handleHotSoptChange}\n                            id=\"switch\"\n                        />\n                    </form>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default SiderBar;","import * as d3 from 'd3';\nimport anime from 'animejs';\n\nconst margin = {\n    top: 100,\n    bottom: 10,\n    right: 10,\n    left: 10,\n};\n\nlet t = d3.transition()\n    .duration(1000)\n    .ease(d3.easeQuadOut);\n\n\nvar mkLineChart = (preset, data, region, plot) => {\n\n    var { width, height, wrapperClassName, svgId, ChartClassName } = preset;\n    d3.selectAll(`#${svgId}>*`).remove();\n\n\n    const lineWrapper = d3.select(`#${svgId}`);\n\n\n    data.forEach(item => { item.Date = new Date(item.Date) });\n    data = data.filter(d => d.neighbourhood.slice(0, 2) === region.slice(0, 2));\n    var line = d3.line()\n        .x(d => x(d.Date))\n        .y(d => y(d.price_x))\n        .curve(d3.curveMonotoneX); // apply smoothing to the line\n\n    // var chartWrapper = document.querySelector(`.${wrapperClassName}`);\n    // var scaleWidth = chartWrapper.getBoundingClientRect().width;\n    // var scaleHeight = chartWrapper.getBoundingClientRect().height;\n\n    var x = d3.scaleUtc()\n        .domain(d3.extent(data, d => d.Date))\n        .range([margin.left, width - margin.right]);\n\n\n    var y = d3.scaleLinear()\n        .domain([d3.min(data, d => d.price_x), d3.max(data, d => d.price_x)]).nice()\n        .range([height - margin.top - 30, margin.bottom * 2]);\n\n\n    var x_axis = d3.axisBottom(x);\n    var y_axis = d3.axisLeft(y);\n\n    // Append X Axis to the chart\n    lineWrapper.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},${height - margin.bottom - 10})`)\n        .call(x_axis.ticks(d3.timeMonth.every(1)).tickFormat(d3.timeFormat('%b')).tickSizeOuter(0))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", 4)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-size\", \"1.2rem\")\n            .style(\"font-family\", 'Coda')\n            .attr(\"dy\", 4))\n        .call(g => g.select(\".domain\")\n            .attr(\"stroke\", \"#959496\"))\n        .call(g => g.selectAll(\".tick line\")\n            .attr(\"stroke\", \"#959496\"));\n\n    // Append Y Axis to the chart\n    lineWrapper.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},${margin.top + 10})`)\n        .call(y_axis.ticks(10))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", -8)\n            .attr(\"y\", 2)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-family\", 'Coda')\n            .style(\"font-size\", \"1.3rem\"))\n        .call(g => g.select(\".domain\")\n            .remove())\n        .call(g => g.selectAll(\".tick line\")\n            .attr(\"stroke\", \"#959496\"));\n\n    // Draw the Line \n    lineWrapper.append(\"path\")\n        .datum(data)\n        .attr(\"transform\", `translate(${margin.left},${margin.top + 10})`)\n        .transition(t)\n        .attr(\"opacity\", \"1\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#A2787E\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"d\", line);\n\n    /// Annotation\n\n    d3.select(\".lineChartTitle\").remove();\n    d3.select(\".lineChartSubTitle\").remove();\n    d3.select(\".lineChartYaxistext\").remove();\n    var title = `Airbnb Daily Price From Apr 2020`;\n    var maxPrice = d3.max(data, d => d.price_x);\n    var minPrice = d3.min(data, d => d.price_x);\n    var subtitle = `${region} Max Price: ${maxPrice}   |   Min Price: ${minPrice}`;\n\n    lineWrapper.append(\"text\")\n        .attr(\"class\", \"lineChartTitle\")\n        .attr(\"x\", 0)\n        .attr(\"y\", (margin.top) / 2)\n        .text(title)\n        .style(\"font-size\", \"3em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda');\n    lineWrapper.append(\"text\")\n        .attr(\"class\", \"lineChartSubTitle\")\n        .attr(\"x\", 0)\n        .attr(\"y\", (margin.top))\n        .text(subtitle)\n        .style(\"font-size\", \"2em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda');\n\n    lineWrapper.append(\"text\")\n        .attr(\"class\", \"lineChartYaxistext\")\n        .attr(\"x\", 0)\n        .attr(\"y\", margin.top + 30)\n        .text(\"¥/day\")\n        .style(\"font-size\", \"1.6em\")\n        .style(\"opacity\", 0.8)\n        .style(\"fill\", \"#959496\")\n        .style(\"font-family\", 'Coda');\n\n    // Animation\n    var lineChart = document.querySelector(`#${svgId}`);\n    anime({\n        targets: lineChart,\n        easing: 'easeInOutSine',\n        duration: 1000,\n        translateX: 10,\n        direction: 'alternate',\n        loop: false\n    });\n\n}\n\nexport default mkLineChart;","import * as d3 from 'd3';\nimport anime from 'animejs';\n\nconst margin = {\n    top: 100,\n    bottom: 10,\n    right: 10,\n    left: 10,\n};\n\nlet t = d3.transition()\n    .duration(1000)\n    .ease(d3.easeQuadOut);\n\n\nexport default function mkBarChart(preset, data, region, plot) {\n    var { width, height, wrapperClassName, svgId, ChartClassName } = preset;\n    d3.selectAll(`#${svgId}> *`).remove();\n\n    var svg = d3.select(`#${svgId}`);\n\n    const barWrapper = d3.select(`#${svgId}`).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.bottom})`)\n    // console.log(data)\n\n    data.sort((a, b) => b.mean_reviews - a.mean_reviews)\n    console.log(data)\n\n    var x = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.mean_reviews) * 1.1])\n        .range([margin.left, width - margin.right])\n\n    var y = d3.scaleBand()\n        .domain(d3.range(data.length))\n        .rangeRound([margin.top, height - margin.bottom])\n        .padding(0.1)\n\n    var x_axis = d3.axisTop(x);\n    var y_axis = d3.axisLeft(y);\n\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},${height - margin.bottom - 10})`)\n        .call(x_axis.ticks(width / 80, data.format))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", 4)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-size\", \"1.2rem\")\n            .style(\"font-family\", 'Coda')\n            .attr(\"dy\", 4))\n        .call(g => g.selectAll(\".tick line\")\n            .remove())\n        .call(g => g.select(\".domain\").remove());\n\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},-35)`)\n        .call(y_axis.tickFormat(i => data[i].neighbourhood).tickSizeOuter(0))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", -8)\n            .attr(\"y\", 2)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-family\", 'Coda')\n            .style(\"font-size\", \"1.2rem\"))\n        .call(g => g.select(\".domain\").remove())\n        .call(g => g.selectAll(\".tick line\")\n            .remove());\n\n    svg.append(\"g\")\n        .attr(\"fill\", \"white\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", \"1.5rem\")\n        .selectAll(\"text\")\n        .data(data)\n        .join(\"text\")\n        .attr(\"x\", d => x(d.mean_reviews) - 4)\n        .attr(\"y\", (d, i) => (y(i) - 35) + (y.bandwidth() / 2))\n        .attr(\"dy\", \"0.8em\")\n        .text(d => d.mean_reviews);\n\n\n    var bars = barWrapper.selectAll(`.${plot}Bar`)\n        .data(data);\n\n    bars.exit().remove();\n\n    var new_bars = bars\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", `${plot}Bar`)\n        .attr(\"fill\", d => {\n            if (d.neighbourhood.slice(0, 2) === region.slice(0, 2)) {\n                return \"#df9827\"\n            } else {\n                return \"#3F3F40\"\n            }\n        })\n        .attr(\"stroke\", \"black\")\n        .attr(\"class\", \"bar\");\n\n    new_bars.merge(bars)\n        .transition(t)\n        .attr(\"opacity\", \"1\")\n        .attr(\"x\", x(0))\n        .attr(\"y\", (d, i) => y(i) - 35)\n        .attr(\"width\", d => x(d.mean_reviews) - x(0))\n        .attr(\"height\", y.bandwidth())\n\n    var title = \"Average Number of Reviews by Regions\"\n    barWrapper.append(\"text\")\n        .attr(\"class\", \"barChartTitle\")\n        .attr(\"x\", 0)\n        .attr(\"y\", (margin.top) / 2)\n        .text(title)\n        .style(\"font-size\", \"3em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda')\n\n\n    var reviewChart = document.querySelector(`#${svgId}`);\n    anime({\n        targets: reviewChart,\n        easing: 'easeInOutSine',\n        duration: 1000,\n        translateX: 10,\n        direction: 'alternate',\n        loop: false\n    });\n\n}","import * as d3 from 'd3';\nimport anime from 'animejs';\n\nconst margin = {\n    top: 100,\n    bottom: 10,\n    right: 10,\n    left: 10,\n};\n\nlet t = d3.transition()\n    .duration(1000)\n    .ease(d3.easeQuadOut);\n\n\nexport default function mkBarChart(preset, data, region, plot) {\n    var { width, height, wrapperClassName, svgId, ChartClassName } = preset;\n    d3.selectAll(`#${svgId}> *`).remove();\n\n    var svg = d3.select(`#${svgId}`);\n\n    const barWrapper = d3.select(`#${svgId}`).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.bottom})`)\n\n    data.map(d => d.priceByRent = parseInt(d.housingPrice / d.rent))\n    data.sort((a, b) => a.priceByRent - b.priceByRent)\n    console.log(data)\n\n    var x = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.priceByRent) * 1.1])\n        .range([margin.left, width - margin.right])\n\n    var y = d3.scaleBand()\n        .domain(d3.range(data.length))\n        .rangeRound([margin.top, height - margin.bottom])\n        .padding(0.1)\n\n    var x_axis = d3.axisTop(x);\n    var y_axis = d3.axisLeft(y);\n\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},${height - margin.bottom - 10})`)\n        .call(x_axis.ticks(width / 80, data.format))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", 4)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-size\", \"1.2rem\")\n            .style(\"font-family\", 'Coda')\n            .attr(\"dy\", 4))\n        .call(g => g.selectAll(\".tick line\")\n            .remove())\n        .call(g => g.select(\".domain\").remove());\n\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},-35)`)\n        .call(y_axis.tickFormat(i => data[i].neighbourhood).tickSizeOuter(0))\n        .call(g => g.selectAll(\".tick text\")\n            .attr(\"x\", -8)\n            .attr(\"y\", 2)\n            .attr(\"fill\", \"#3F3F40\")\n            .style(\"font-family\", 'Coda')\n            .style(\"font-size\", \"1.3rem\"))\n        .call(g => g.select(\".domain\").remove())\n        .call(g => g.selectAll(\".tick line\")\n            .remove());\n\n    svg.append(\"g\")\n        .attr(\"fill\", \"white\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", \"1.5rem\")\n        .selectAll(\"text\")\n        .data(data)\n        .join(\"text\")\n        .attr(\"x\", d => x(d.priceByRent) - 4)\n        .attr(\"y\", (d, i) => (y(i) - 35) + (y.bandwidth() / 2))\n        .attr(\"dy\", \"0.8em\")\n        .text(d => d.priceByRent);\n\n\n    var bars = barWrapper.selectAll(`.${plot}Bar`)\n        .data(data);\n\n    bars.exit().remove();\n\n    var new_bars = bars\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", `${plot}Bar`)\n        .attr(\"fill\", d => {\n            if (d.neighbourhood.slice(0, 2) === region.slice(0, 2)) {\n                return \"#df9827\"\n            } else {\n                return \"#3F3F40\"\n            }\n        })\n        .attr(\"stroke\", \"black\")\n        .attr(\"class\", \"bar\");\n\n    new_bars.merge(bars)\n        .transition(t)\n        .attr(\"opacity\", \"1\")\n        .attr(\"x\", x(0))\n        .attr(\"y\", (d, i) => y(i) - 35)\n        .attr(\"width\", d => x(d.priceByRent) - x(0))\n        .attr(\"height\", y.bandwidth())\n\n\n    d3.select(\".barChartTitle\").remove();\n    d3.select(\".barChartSubTitle\").remove();\n    d3.select(\".barChartDes\").remove();\n    var title = \"Unit Housing Price vs Unit Rent Price\";\n    var days = data.filter((d) => d.neighbourhood.slice(0, 2) === region.slice(0, 2))[0].priceByRent;\n    var subtitle = `${days} Days Rent Avenue in ${region}`;\n    var des = `Can Afford One Square Metre of House in ${region}`;\n    barWrapper.append(\"text\")\n        .attr(\"class\", \"barChartTitle\")\n        .attr(\"x\", -50)\n        .attr(\"y\", (margin.top) / 2)\n        .text(title)\n        .style(\"font-size\", \"3em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda')\n\n    barWrapper.append(\"text\")\n        .attr(\"class\", \"barChartSubTitle\")\n        .attr(\"x\", 230)\n        .attr(\"y\", (160))\n        .text(subtitle)\n        .style(\"font-size\", \"2.5em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda')\n\n    barWrapper.append(\"text\")\n        .attr(\"class\", \"barChartDes\")\n        .attr(\"x\", 160)\n        .attr(\"y\", 200)\n        .text(des)\n        .style(\"font-size\", \"2em\")\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"#3F3F40\")\n        .style(\"font-family\", 'Coda')\n\n    var priceChart = document.querySelector(`#${svgId}`);\n    anime({\n        targets: priceChart,\n        easing: 'easeInOutSine',\n        duration: 1000,\n        translateX: 10,\n        direction: 'alternate',\n        loop: false\n    });\n\n}","import React, { Component } from 'react'\nimport mkSvg from '../../../util/mkSvg.js';\nimport mkLineChart from '../DailyLineChart/mkLineChart';\nimport mkReviewsBarChart from '../ScoreBarChart/mkBarChart';\nimport mkPriceByRentBarChart from '../PriceByRentBarChart/mkPriceByRentBarChart';\n\n\nimport './Chart.css';\n\nexport default class Chart extends Component {\n\n    componentDidMount() {\n        var { preset, region, plot, dailyPrice, beijing_area_stat } = this.props;\n\n        mkSvg(preset)\n        if (plot === \"rent\") {\n            mkLineChart(preset, dailyPrice, region, plot)\n        } else if (plot === 'lists') {\n            mkReviewsBarChart(preset, beijing_area_stat, region, plot)\n        } else if (plot === 'price') {\n            mkPriceByRentBarChart(preset, beijing_area_stat, region, plot)\n        }\n\n\n    };\n    componentDidUpdate() {\n\n        var { preset, region, plot, dailyPrice, beijing_area_stat } = this.props;\n\n        setTimeout(() => {\n            if (plot === \"rent\") {\n                mkLineChart(preset, dailyPrice, region, plot)\n            } else if (plot === 'lists') {\n                mkReviewsBarChart(preset, beijing_area_stat, region, plot)\n            } else if (plot === 'price') {\n                mkPriceByRentBarChart(preset, beijing_area_stat, region, plot)\n            }\n        })\n\n    }\n    render() {\n\n        return (\n            <div className={this.props.preset.wrapperClassName}>\n            </div>\n        )\n    }\n\n}","import React, { Component } from 'react';\nimport Iframe from 'react-iframe';\nimport \"./SideChart.css\";\nimport Chart from './Chart/Chart';\n\n\nconst preset = {\n    width: 700,\n    height: 750,\n    wrapperClassName: \"sideChartWrapper\",\n    svgId: \"sideChart\",\n    ChartClassName: null,\n}\n\n\nclass SideChart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            preset,\n        }\n    }\n\n    render() {\n        var { region, plot, dailyPrice, beijing_area_stat } = this.props;\n\n        if (region === \"All\" && plot === \"lists\") {\n            return (\n                <div className={this.state.preset.wrapperClassName} style={{ height: 35 + 'vw', padding: 20 }}>\n                    <Iframe url='https://flo.uri.sh/visualisation/1977921/embed' width=\"100%\" height=\"100%\" id=\"room_type\" >\n                    </Iframe>\n                </div >\n            )\n        } else if (region === \"All\" && plot === \"rent\") {\n            return (\n                <div className={this.state.preset.wrapperClassName} style={{ height: 35 + 'vw', padding: 20 }}>\n                    <Iframe url='https://flo.uri.sh/visualisation/2129770/embed' width=\"100%\" height=\"100%\" id=\"daily_rent\" >\n                    </Iframe>\n                </div>\n            )\n        } else if (region === \"All\" && plot === \"price\") {\n            return (\n                <div className={this.state.preset.wrapperClassName} style={{ height: 35 + 'vw', padding: 20 }}>\n                    <Iframe url='https://flo.uri.sh/visualisation/2129151/embed' width=\"100%\" height=\"100%\" id=\"housing_price\" >\n                    </Iframe>\n                </div >\n            )\n        } else {\n            return (\n                <Chart preset={this.state.preset} region={region} plot={plot} dailyPrice={dailyPrice} beijing_area_stat={beijing_area_stat}></Chart>\n            )\n        }\n\n\n    }\n}\nexport default SideChart;\n\n","import React, { Component } from 'react';\nimport MapDraw from '../Map/draw/index.js';\nimport SiderBar from '../SideBar/SideBar';\nimport SideChart from '../SideChart/SideChart';\nimport { Row, Col } from 'antd';\nimport './Map.css'\n\n\n\n\nclass Map extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            region: \"All\",\n            plot: 'lists'\n        }\n    }\n    // a selection of regions\n    selectRegion = (region) => {\n        this.setState({ region: region })\n    }\n    // handle color scheme change\n    selectPlot = (plot) => {\n        this.setState({ plot: plot })\n    }\n    // check if switch on for showing attraction's locations on the map\n    selectSpot = (checked) => {\n        this.setState({ SpotChecked: checked })\n\n    }\n\n    render() {\n        const { geoData, beijing_area_stat, hotSpot, dailyPrice } = this.props\n        return (\n            <div className=\"contentWrapper\">\n                <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\n                    <Col className=\"gutter-row\" span={4}>\n                        <SiderBar selectRegion={this.selectRegion} selectPlot={this.selectPlot}\n                            selectSpot={this.selectSpot}>\n                        </SiderBar>\n                    </Col>\n                    <Col className=\"gutter-row\" span={8}>\n                        <MapDraw geoData={geoData} beijing_area_stat={beijing_area_stat}\n                            region={this.state.region}\n                            plot={this.state.plot} hotSpot={hotSpot} handleSpot={this.state.SpotChecked}\n                        >\n                        </MapDraw>\n                    </Col>\n                    <Col className=\"gutter-row\" span={10}>\n                        <SideChart region={this.state.region} plot={this.state.plot} dailyPrice={dailyPrice} beijing_area_stat={beijing_area_stat}></SideChart>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\nexport default Map;","import React, { Component } from 'react';\nimport anime from 'animejs';\n\n\n\nexport default class Headline extends Component {\n\n    componentDidMount() {\n        // anime({\n        //     targets: '#root header h1',\n        //     opacity: [0, 1],\n        //     easing: 'easeInOutExpo',\n        //     duration: 2000\n        // });\n        // const node = ReactDOM.findDOMNode(this);\n        var paths = document.querySelectorAll(\"#title> path\");\n        anime({\n            targets: paths,\n            strokeDashoffset: [anime.setDashoffset, 0],\n            easing: 'easeInOutSine',\n            duration: 1000,\n            delay: function (el, i) { return i * 150 },\n            direction: 'alternate',\n            loop: false\n        });\n    }\n\n    render() {\n        return (\n            <div style={{ height: 15 + 'vh' }}>\n                <svg id=\"title\" data-name=\"Beijing Airbnb\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 160\" height='100%' width=\"100%\">\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M455.24,378.2a15.25,15.25,0,0,1-1.94,7.56Q444.54,401,423.11,401a60.4,60.4,0,0,1-12.9-1.61q-1.33,3.84-4.5,3.84-5.83,0-5.84-5v-1.74c0-.74-.12-1.2-.37-1.36-1.05-.5-2.07-1-3-1.61a3.31,3.31,0,0,1-1.46-3.1q0-3.84,3.65-4.34V370.27a4.54,4.54,0,0,1-2.31-3.71,5,5,0,0,1,2.31-4.09V324.55a5.78,5.78,0,0,1,2.13-4,6.11,6.11,0,0,1,4.08-2,6.43,6.43,0,0,1,3.65.74l0,0a7.69,7.69,0,0,1,1.86,6.3l-.3,2Q418.46,316,431.33,316q10.2,0,16,7.56,5.34,6.81,5.34,17.47a31.88,31.88,0,0,1-2.56,12.27,26.62,26.62,0,0,1-6.81,10.4Q455.25,367.55,455.24,378.2Zm-10.12,1.86q0-4.32-10.75-5.64-4.44-.45-14.64-.45c-2.44,0-4.43.08-6,.22-.08,1.92-.11,3.69-.11,5.31v6.86c0,1.55,0,2.88.11,4a31.53,31.53,0,0,0,12,2.21,25.72,25.72,0,0,0,12.2-3.32Q445.12,385.48,445.12,380.06Zm-2.34-33.12q0-13.68-9.9-13.68-7.11,0-13.24,9.45-5.67,8.57-5.67,16v7.12h6q11.68,0,16.69-3.45Q442.78,358.07,442.78,346.94Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M499.41,391.66q0,5.56-7.56,8.68a32,32,0,0,1-12.35,2.45q-17.14,0-17.14-19.47a48.63,48.63,0,0,1,3.9-17.8q4.78-12,11.57-12Q484,353.5,491,359t7.07,11.35q0,7.35-6.57,11.68a24.08,24.08,0,0,1-13.79,3.9q-1.56,0-5-1.89.45,10.56,6.23,10.56a18.72,18.72,0,0,0,9.62-2.78c3.15-1.85,5.18-2.78,6.07-2.78C497.81,389,499.41,389.88,499.41,391.66Zm-12.13-21a9.56,9.56,0,0,0-1.61-5.29,4.89,4.89,0,0,0-4.28-2.5,6.33,6.33,0,0,0-5.68,3.22,12.58,12.58,0,0,0-1.66,6.57,4.49,4.49,0,0,0,1.44,3.45,5.19,5.19,0,0,0,3.67,1.33Q487.29,377.42,487.28,370.64Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M520.32,358.62a25.47,25.47,0,0,1-.89,5.67,26.24,26.24,0,0,0-.89,5.68v22.92a27,27,0,0,0,1.34,6.67q-1.68,2.56-3.71,2.56-7.08,0-7.75-7-1.11-13-1.11-19.58a158.47,158.47,0,0,1,.89-18.47V356c0-1.33,1-2,3.09-2a14.69,14.69,0,0,1,5.51,1.11C519.15,355.88,520.32,357.06,520.32,358.62Zm1-15.57a5.24,5.24,0,0,1-1.67,4,5.82,5.82,0,0,1-4.12,1.56,8.46,8.46,0,0,1-5.39-2,6.08,6.08,0,0,1-2.51-4.9,5.15,5.15,0,0,1,1.73-4,6.13,6.13,0,0,1,4.28-1.56,8.11,8.11,0,0,1,5.34,2A6.14,6.14,0,0,1,521.33,343.05Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M544.69,358.73q-2.46,6.79-2.45,10.46,0,7.13.33,21.53t.34,21.63a23.4,23.4,0,0,1-4.23,14,14.57,14.57,0,0,1-12.46,6.57q-4.11,0-12-3.9-8.67-4.11-8.67-7.56,0-4,4.56-4a6.66,6.66,0,0,1,2.56.56,14.19,14.19,0,0,0,11.23,5.56q9.35,0,9.35-17,0-.56-.78-47.39l1.78-2.12a25.11,25.11,0,0,1,5.23-1C541.16,356.06,542.91,357,544.69,358.73ZM545,348.5a5,5,0,0,1-2.06,4.06,7.16,7.16,0,0,1-4.5,1.61c-.82,0-2-.67-3.67-2a24.06,24.06,0,0,1-3.12-3,11.66,11.66,0,0,1-.22-2.33q0-5.34,5.56-5.34a8.55,8.55,0,0,1,5.56,2A6.22,6.22,0,0,1,545,348.5Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M565.16,358.62a26.08,26.08,0,0,1-.89,5.67,25.63,25.63,0,0,0-.89,5.68v22.92a26.88,26.88,0,0,0,1.33,6.67q-1.68,2.56-3.71,2.56-7.07,0-7.75-7-1.11-13-1.11-19.58a160.72,160.72,0,0,1,.89-18.47V356c0-1.33,1-2,3.09-2a14.69,14.69,0,0,1,5.51,1.11C564,355.88,565.16,357.06,565.16,358.62Zm1-15.57a5.24,5.24,0,0,1-1.67,4,5.81,5.81,0,0,1-4.12,1.56,8.48,8.48,0,0,1-5.39-2,6.08,6.08,0,0,1-2.51-4.9,5.15,5.15,0,0,1,1.73-4,6.13,6.13,0,0,1,4.28-1.56,8.11,8.11,0,0,1,5.34,2A6.14,6.14,0,0,1,566.16,343.05Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M611.1,400.67a4.83,4.83,0,0,1-4.12,2.56c-1.26,0-3.33-.74-6.23-2.22v-1.34q0-2.44.12-7.23c.07-3.19.11-5.52.11-7q0-23.81-7.08-23.81-2,0-4.54,3.12-7.85,9.57-7.85,23a32.56,32.56,0,0,0,.72,5.62A32.36,32.36,0,0,1,583,399a3,3,0,0,1-1.44,2.56,5.36,5.36,0,0,1-3.12,1q-6.67,0-6.67-8.45V370.86a21.88,21.88,0,0,1,.22-2.62,21.59,21.59,0,0,0,.22-2.61,27.94,27.94,0,0,0-.39-3.89,28,28,0,0,1-.39-3.79,4.47,4.47,0,0,1,2.06-3.39,6.33,6.33,0,0,1,3.73-1.61q2.45,0,5,2.78l-.34,4.45q4.11-6.57,10.13-6.57a15.81,15.81,0,0,1,8.23,2.67,18.44,18.44,0,0,1,6.34,6q4.56,8.46,4.56,22.25Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M657.16,368.41q-.23,2.79-1.45,9.79A57.78,57.78,0,0,0,654.6,388c0,2.23.11,5.56.33,10s.34,7.79.34,10c0,4.59-.45,8-1.34,10.23a13.25,13.25,0,0,1-5.9,6.84,17.23,17.23,0,0,1-9,2.62A36.39,36.39,0,0,1,626.9,425q-8.68-3.12-8.68-6.9c0-3.26,1.52-4.9,4.56-4.9a3.15,3.15,0,0,1,2.89,1.23,18.53,18.53,0,0,0,2,2.67,11.22,11.22,0,0,0,3.62,1.06,27.53,27.53,0,0,0,4.33.61q10,0,10-12.57a47.64,47.64,0,0,0-.34-6.23,17,17,0,0,1-11.46,4.11,15.36,15.36,0,0,1-6.23-1.56,14.43,14.43,0,0,1-5.23-3.67q-3.44-4-3.44-11.9a58.54,58.54,0,0,1,4.34-20.8q5.34-13.9,13-13.91,4.68,0,8.9,4.34,3.12,4.11,6.23,8.12a7.64,7.64,0,0,0,2.78,2A17.26,17.26,0,0,1,657.16,368.41Zm-11.24,6.68a3.33,3.33,0,0,0-1.56-2.79q-.66-10.23-7.12-10.23-3.68,0-6.12,10.35a63.85,63.85,0,0,0-1.78,13.68q0,10.9,5.68,10.9,5.34,0,8.45-8.68A38.28,38.28,0,0,0,645.92,375.09Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M741.37,381.76q0,5.34-4.78,5.45a38.69,38.69,0,0,0,2.45,6.9,5.29,5.29,0,0,1-2,4,6.77,6.77,0,0,1-4.45,1.56,11.44,11.44,0,0,1-4.67-1.22,15.34,15.34,0,0,1-1.45-6.9c0-.67,0-1.63.12-2.89s.11-2.19.11-2.78c0,.52-1.23.78-3.67.78q-6.24,0-14.8.55-12.24.68-13.3,1.89T693.53,401a4.29,4.29,0,0,1-3.67,2.11,7.74,7.74,0,0,1-4.78-1.95q-2.45-1.94-2.45-4.17a38.88,38.88,0,0,1,2-6.23q2.24-7.89,7.24-23.69C701.8,339.86,718,309,726,302c4.86-4.25,2.09,31.44,5.58,45.83q2.34,9.68,4.34,29.7a17,17,0,0,1,3.67,1.12A3.31,3.31,0,0,1,741.37,381.76Zm-15.57-4.23q-4.9-38.82-8.79-38.82-3.12,0-10.9,18.24-5.57,13.13-8.79,22.81,3.55-.78,10.57-1.89A119.64,119.64,0,0,1,725.8,377.53Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M761.73,358.62a26.08,26.08,0,0,1-.89,5.67A26.24,26.24,0,0,0,760,370v22.92a26.55,26.55,0,0,0,1.34,6.67c-1.13,1.71-2.36,2.56-3.71,2.56q-7.08,0-7.75-7-1.12-13-1.12-19.58a160.72,160.72,0,0,1,.89-18.47V356c0-1.33,1-2,3.09-2a14.65,14.65,0,0,1,5.51,1.11C760.55,355.88,761.73,357.06,761.73,358.62Zm1-15.57a5.24,5.24,0,0,1-1.67,4,5.78,5.78,0,0,1-4.11,1.56,8.51,8.51,0,0,1-5.4-2,6.07,6.07,0,0,1-2.5-4.9,5.14,5.14,0,0,1,1.72-4,6.15,6.15,0,0,1,4.28-1.56,8.07,8.07,0,0,1,5.34,2A6.14,6.14,0,0,1,762.73,343.05Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M796.55,363.18a20.19,20.19,0,0,1-.22,2.45c-1.56,2.22-3.19,3.34-4.9,3.34q-2.11,0-3.78-2.45c-.15-3.34-1.33-5-3.56-5q-2,0-4.89,10.57a49.2,49.2,0,0,0-1.34,13c0,5.27.24,8.45.73,9.57a10,10,0,0,1,.83,2.89,3.56,3.56,0,0,1-1.71,3.06,6.59,6.59,0,0,1-3.8,1.17q-6,0-5.95-5.57a6,6,0,0,1,.28-1.55,6.56,6.56,0,0,0,.28-1.45q0-5.67-.56-16.85t-.56-16.75c0-3.34,2-5,6-5,2.37,0,4,.7,4.89,2.11a9.3,9.3,0,0,1,7-3.45,9.87,9.87,0,0,1,5.12,1.45,13.67,13.67,0,0,1,3.9,3.84Q796.55,361.51,796.55,363.18Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M839.16,376.2q0,10-3.45,17-4.46,9-13.46,9-2.89,0-9.12-2.11a10.9,10.9,0,0,1,.11,1.44c0,2.45-1.38,3.67-4.12,3.67a6.12,6.12,0,0,1-4.89-2.22q-.9-1-1.45-6.9a72.62,72.62,0,0,1-.56-7.67V388l1.67-62.86q1.79-2.78,4.23-2.33a2.93,2.93,0,0,1,1.11-.22c1.34,0,2.58.79,3.73,2.39a7.81,7.81,0,0,1,1.72,4.5,120.2,120.2,0,0,1-.89,12.8q-1.11,9.23-1.22,12.68a10.31,10.31,0,0,1,8.34-3.89,16.08,16.08,0,0,1,11,4.39,20.16,20.16,0,0,1,6.34,10.62A46.26,46.26,0,0,1,839.16,376.2Zm-10.35-.78q0-15.14-6.3-15.13-5.29,0-8.06,7.68a35.86,35.86,0,0,0-2.1,12.34q0,14,8.4,14Q828.81,394.33,828.81,375.42Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M888.78,400.67a4.86,4.86,0,0,1-4.12,2.56q-1.89,0-6.23-2.22v-1.34q0-2.44.11-7.23c.07-3.19.11-5.52.11-7q0-23.81-7.08-23.81-2,0-4.53,3.12-7.86,9.57-7.86,23a31.81,31.81,0,0,0,.73,5.62,32.36,32.36,0,0,1,.72,5.61,3,3,0,0,1-1.45,2.56,5.33,5.33,0,0,1-3.11,1q-6.68,0-6.68-8.45V370.86a22.36,22.36,0,0,1,.23-2.62,23.9,23.9,0,0,0,.22-2.61,27.94,27.94,0,0,0-.39-3.89,28,28,0,0,1-.39-3.79,4.44,4.44,0,0,1,2.06-3.39,6.31,6.31,0,0,1,3.72-1.61q2.45,0,5,2.78l-.33,4.45q4.11-6.57,10.12-6.57a15.78,15.78,0,0,1,8.23,2.67,18.35,18.35,0,0,1,6.34,6q4.56,8.46,4.57,22.25Z\" transform=\"translate(-395 -280)\" />\n                    <path stroke=\"white\" strokeWidth=\"4\" d=\"M935.39,376.2q0,10-3.45,17-4.46,9-13.46,9-2.9,0-9.12-2.11a10.9,10.9,0,0,1,.11,1.44c0,2.45-1.38,3.67-4.12,3.67a6.12,6.12,0,0,1-4.89-2.22q-.9-1-1.45-6.9a72.62,72.62,0,0,1-.56-7.67V388l1.67-62.86q1.78-2.78,4.23-2.33a2.93,2.93,0,0,1,1.11-.22c1.34,0,2.58.79,3.73,2.39a7.81,7.81,0,0,1,1.72,4.5,120.2,120.2,0,0,1-.89,12.8q-1.11,9.23-1.22,12.68a10.31,10.31,0,0,1,8.34-3.89,16.08,16.08,0,0,1,11,4.39,20.16,20.16,0,0,1,6.34,10.62A46.26,46.26,0,0,1,935.39,376.2ZM925,375.42q0-15.14-6.3-15.13-5.29,0-8.06,7.68a35.86,35.86,0,0,0-2.1,12.34q0,14,8.39,14Q925,394.33,925,375.42Z\" transform=\"translate(-395 -280)\" />\n                </svg>\n            </div>\n\n\n        )\n\n\n\n    }\n}\n\n\n","// Components import\nimport React, { Component } from 'react';\nimport Map from '../Map/Map';\nimport Headline from '../Headline/Headline';\n\n// Style import\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport { Layout } from 'antd';\n\n\n// import data\nimport geoData from '../App/bj_sp_topo';\nimport hotSpot from '../App/hostspot';\nimport beijing_area_stat from '../App/beijing_area_stat';\nimport dailyReginalPrice from '../App/daily_price_area';\n// import day_price_overall from '../App/calendar_day_overall';\n// import month_price_overall from '../App/calendar_month_overall';\n// import day_price_area from '../App/calendar_day_area';\n// import month_price_area from '../App/calendar_month_area';\n\n\nconst {\n  Header,\n  Footer,\n  Content\n} = Layout;\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      geoData: geoData,\n    }\n  }\n  // componentDidMount() {\n\n\n  // }\n\n  render() {\n    const { geoData } = this.state\n    return (\n      <div>\n        <Layout>\n          <Header style={{ height: 100 + '%' }}>\n            <Headline></Headline>\n          </Header>\n          <Layout style={{ height: 100 + '%' }} >\n            <Content >\n              <Map geoData={geoData} beijing_area_stat={beijing_area_stat}\n                hotSpot={hotSpot} dailyPrice={dailyReginalPrice}>\n              </Map>\n            </Content>\n          </Layout>\n          <Footer style={{ height: 30 }}>\n            <div className=\"col-md-8 col-sm-6 col-xs-12\">\n              <p className=\"copyright-text\">Copyright &copy; 2020 All Rights Reserved by\n               <a href=\"https://github.com/Ruoyu-Klaus\" style={{ color: \"#fef7ea\" }}> Ruoyu Wang</a>.\n              </p>\n            </div>\n          </Footer>\n        </Layout>\n      </div>\n    )\n  }\n\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode >\n  <App />\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n\nserviceWorker.unregister();"],"sourceRoot":""}